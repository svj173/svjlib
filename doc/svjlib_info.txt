murulib - написать свою прогу.
- для компа
- для смартфона
....
Выяснить струкутру книжных архивов либрусек, флибуста и пр.

1) Диреткория
Serg/Linruks/Архивы Либрусек
2) Содержит
- fb2-000065-005477.zip
- fb2-005479-009101.zip
..
- fb2-739606-739683.zip - содержит
   -- 739606.zip -> 739606.fb2 -- Лариса Литта. Золотая дева.
3)
zip-файлов - 2800
4)
книг - 398949     -- из каталога загрузилось 396073 книги

Загрузка библиотеки LibRusEc
Итого
1) время загрузки (HH_MM_SS) = 01:26:47
2) книг - 398949
3) ошибок парсинга книг - ?
4) размер xml файла - 431 Мб.
5) zip-файлов - 2800
6) общий размер библиотеки - около 300 Гб

=== Стуктура ====

- home_dir = {User_home}/svjlib

svjlib_conf.xml
Конфиг файл
1) Экспорт - директория куда извлекать файлы

libs.xml
2) Список библиотек -
- название
- директория
- ссылка на файл-инфу
...
индекс - по кол-ву библиотек

books_(index).xml
3) файлы-инфо о книгах


=== Делать ===

0) При старте редактора - сделать загрузку данных из конфиг-файлов
+0) Не грузит аннотацию
- преобразовать <br> или <p> в переносы строк и обратно
0) Есть жанры, которых нет в моем списке - искать - FB2 полный список жанров
0) При добавлении библиотеки - если обнаружен неизветсный жанр - отмечать в отедльном файле (либо в итоговом окне отмечать)
и доабвлять в жанр - Прочие
0) брать даты написания книги
0) автор
nickname – Ник;
email – Адрес электронной почты.
0) Инициализация, пишется
- размер файлов книг
- примерное вреям загрузки файла - из расчета  100кБ - 4 сек.

+1) BookTitle
- вместо libDir исп индекс библиотеки. И по нему брать диреткорию библиотеки - короче будет
2) Загрузка новой библиотеки
+-- под непрерывным бегунком
+- бегунок
   Всего архивных файлов:  1   из 2854
   Всего книг:
+- распарсили
+- получили массив книг
- скинули массив как xml в {User_home}/svjlib/books_(index).xml
    где индекс - это кол-во загруженных библиотек + 1
+- добавили в массив описаний библиотек
+- сохранили файл библиотек - libs.xml
+- вывели итоговое окошко - кол-во загруженных книг
   -- возможно также в разрезе глобальных жанров
3) То что показывается при Инициализации, потом можно посмотреть в отдельном
диалоге - как и все ошибки загрузки - Журнал инициализации
- Какие библиотеки подгрузились
- Кол-во книг в них, в т.ч. по жанрам
- Ошибки загрузки




3)
Алгоритм.
- перебрать все архивы
- распаристь заголовок - Автор, email. Титл. Индекс серии, если есть, жанры (genre), прочие теги.
- несколкьо файлов - не загружать все целиком, а только партиями. Напрмиер по начальнйо букве фамилия автора.
  -- а елси поиск по книге? по жанрам?
1)
Вести каталог изветсных зип-архивов, с датами, чтоыб обновлять новые и перечитывать старые измененные.
2)
Возвожность работатьс удаленным компом
а) Местоположение исходной библиотеки
- На этом компьютере
- На другом компьютере - Введите адрес дял ssh доступа, Логин-Пароль, Путь до директории библиотеки
3)
Инициадлизация архива.
- В результат - сколкьо скачалось книг
4)
9) мультиязыковость
10) Из FB2 брать кодирвоку текста (UTF-8, пр...)
11) Удаленная работа - библиотека на другом компе
- брать зип-файл книги по SCP
- локально распаковывать



Меню
1) Статистика
- всего библиотек
- всего книг в каждой библиотеке
- всего книг
- книг по жанрам
2) Библиотека
- Список (Список подсоединенных библиотек) - путь до директории - кол-во книг
        Библиотеки могут находиться в разных местах
- Добавить библиотеку   - здесь запросит
    -- рутовый пароль - если нет прав дсотупа
    -- путь до директории - там будет арзличать - файл fb2, зип-файл, зип-зип файл - различеат сам, но можно ввести и тип архива библиотеки
    -- свое название библиотеки -- уникальное среди всех названий
- Удалить библиотеку - ?
- Перечитать библиотеку - если в эту дир добавили новые файлы
3) Книги
- Экспорт помеченных - выводит диалог со списком. По ОК сообщает в какую директорию сложил.
    Если итоговая директория не задана - запрашивает.
Настройки
1) Директория, куда будут сложены экспортируемые файлы (По алфавиту)

Конфиг-файл
1) Путь до файла  с инфой на книги
2) Список загруженных библиотек
- директория
- название


svjlib
zip - упаковка текста - в 3-4 раза = 3.5

FB2.
1) genre - жанр. Если их несколько - то несколкьо таких тегов
2) кодировка файла - в самом начале <xml ... encoding="utf-8"
- зачем она мне? -- чтоыб правильно доставать всю инфу - титл книги, автор, аннотация и прочее
3) lang - ru - тоже брать
4) <sequence name="Тьма" number="3"></sequence> - серия, индекс
причем индекса может и не быть

svjlib

 -
 ...
 ??? - для Либрусек - этот файл будте много-много метров.
 -- может, разбить на несколько?

При старте программы парсится конфиг-файл, парсиься файл спсика библиотек,
извлекаются данные о файлах-книг-этих-библиотеках.
Парсятся файлы с инфой о книгах.
Данные о книгах суммируются в одном массиве
Возможно - сразу же создавать мапперы
 - по жанрам      - мап в мапе - Общий жанр (Детективы) / Поджанры (Исторические детективы)
 - по алфавиту авторов


Разная статистика работы
1) Инфа о 80 книгах - 100 кБ
2) Загрузка новой библиотеки
- 28 архивных файлов - за 50 сек
- 2800 архивных файлов ЛибРусЕк - за 50000 сек : это 833 мин - 14 часов
3) Можно к проекту приложить свои данные с Ремаркой  -- В файле libs.xml необходимо исправить путь до диреткории библиотеки
на ваш реальный путь (т.е. пропсиать ту директорию, где у вас находятся арзхивные файлы библиотеки LibRusEk
(прописать версию моей библиотеки LibRusEk)


Библиотеки
1) https://coollib.net
- 900 Гб
- 600000 книг
2) https://aldebaran.ru


Списки жанров
1) https://coollib.net/g#
- Всего жанров: 507
- по глобальным жанрам
- но не одним файлом
2) http://www.fictionbook.org/index.php/%D0%96%D0%B0%D0%BD%D1%80%D1%8B_FictionBook_2.1
- гораздо меньше чем в coollib.net

Фильтр на загрузку библиотек
1) ru
2) и чтобы genre - не - fragment


Загрузка библиотеки LibRusEc
Итого
1) время загрузки (HH_MM_SS) = 01:26:47
2) книг - 398949
3) ошибок парсинга книг - ?
4) размер xml файла - 431 Мб.
5) zip-файлов - 2800
6) общий размер библиотеки - около 300 Гб


Доделать
1) При загрузке библиотеки - собирать языки книг в отдельный массив и хранить его - суммарный дял всех загруженных библиотек.
2) В инфу о книге добавить параметр - Фрагмент
- в заголовке FB2 нет такого параметра, но в конце книги есть
<section id="litres_trial_promo"><title>Конец ознаокмительного фрагмента...
3) Поиск книг
Фильтр
=- Не фрагмент
- Язык



